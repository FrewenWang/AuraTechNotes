## virtualenv搭建独立的python环境

文章参考：https://www.liaoxuefeng.com/wiki/1016959663602400/1019273143120480




## 使用Anaconda环境搭建

文章参考：https://weread.qq.com/web/reader/47432a3072021a1c4749d92kd3d322001ad3d9446802347

文章参考：https://cloud.tencent.com/developer/article/1649008


### MacOS上安装Tensorflow


### Linux系统中安装TensorFlow 2.0


升级到pip最新版本

![image](http://note.youdao.com/yws/res/93198/823510382E084C018CE89F9C05751439)


Ubuntu上面怎么使用Anaconda

```
conda info

conda --version           # 获取conda版本号   
conda info --envs         # 获取当前所有虚拟环境
source activate 【your_env_name】# 进入某个环境
source deactivate         # 退出当前环境
conda create --name 【new_env_name 】--clone 【old_env_name】 # 复制某个环境
conda remove --name 【your_env_name 】--all  # 删除某个环境
conda list # 查看当前环境中有哪些安装包

# conda environments:
#
base                  *  /home/gld/anaconda3
python36                 /home/gld/anaconda3/envs/python36

conda activate tensorflow

```


### Anaconda 镜像使用帮助


Anaconda 是一个用于科学计算的 Python 发行版，支持 Linux, Mac, Windows, 包含了众多流行的科学计算、数据分析的 Python 包。

Anaconda 安装包可以到 https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/ 下载。

TUNA 还提供了 Anaconda 仓库的镜像，运行以下命令:

```
// 设置国内镜像
(base) frewen@frewenUbuntu:~/下载$ conda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/free/
(base) frewen@frewenUbuntu:~/下载$ conda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/main/
(base) frewen@frewenUbuntu:~/下载$ conda config --set show_channel_urls yes
```

即可添加 Anaconda Python 免费仓库。

运行 conda install numpy 测试一下吧。






```
conda create -n tensorflow python=3.6


conda activate tensorflow


conda deactivate
```



#### 卸载

直接删除目录~/anaconda3以及删除~/.bashrc里相应的内容即可。





### MacOS下Tensorflow2.0环境搭建



#### 使用命令行来安装Tensorflow环境


```shell
#1、创建独立的运行环境并激活
conda create -n tensorflow2-py38 python=3.8
# 激活tensorflow2-py38环境
conda activate tensorflow2-py38

#2、安装相关的软件包
# 使用conda命令进行安装
install numpy matplotlib PIL scikit-learn pandas

# 使用pip进行安装（推荐使用，笔者使用conda安装的时候发现有失败的情况）
<!--使用豆瓣的镜像-->
pip install numpy matplotlib Pillow scikit-learn pandas -i https://pypi.douban.com/simple
<!--使用清华的镜像-->
pip install numpy matplotlib Pillow scikit-learn pandas -i https://pypi.tuna.tsinghua.edu.cn/simple

# 3、安装Tensorflow2.0
pip install tensorflow -i https://pypi.douban.com/simple


```



#### 测试Tensorflow是否安装成功

打开jupyter.

![image-20210710142601192](https://gitee.com/frewen1225/ImageUploader/raw/master/img/20210710142601.png)

如果出现上面的显示，则证明没有安装成功



如果出现下面的内容则表示安装成功

![image-20210710144523500](https://gitee.com/frewen1225/ImageUploader/raw/master/img/20210710144523.png)



### 第一个Tensorflow2.0的程序

我们写一个


```
import tensorflow as tf

hello = tf.constant('hello tf!')
# 在tensorflow1.0中恶心的session.run.在tf2.0中终于不用使用了。
# sess = tf.Session()
# print(sess.run(hello))
print(hello)

ds_tensors = tf.data.Dataset.from_tensor_slices([6,5,4,3,2,1])

import tempfile
# 
_,filename = tempfile.mkstemp()

print(filename)

# 循环打开文件
with open(filename,'w') as f:
    f.write("""
    Line1
    Line2
    Lin23
    """)
ds_file = tf.data.TextLineDataset(filename)   
```



```

```